<div class="page-container fade-in">
    <div class="page-header">
        <div>
            <h1 class="page-title">Gestão da Home</h1>
            <p class="page-subtitle">Configure os banners rotativos da página principal.</p>
        </div>
    </div>

    <!-- Upload Card -->
    <div class="upload-card">
        <nz-upload nzType="drag" [nzCustomRequest]="handleUpload" [nzShowUploadList]="false" class="conceptual-upload">
            <div class="upload-content">
                <span nz-icon nzType="cloud-upload" class="upload-icon"></span>
                <p class="upload-text">Arraste uma imagem ou clique para upload</p>
                <p class="upload-hint">1920x600px recomendado • JPG/PNG</p>
            </div>
        </nz-upload>
    </div>

    <!-- Banners List -->
    <div class="table-card">
        <nz-table #bannerTable [nzData]="banners()" [nzBordered]="false" [nzShowPagination]="false" nzSize="middle">
            <thead>
                <tr>
                    <th nzWidth="140px">Visualização</th>
                    <th>Conteúdo</th>
                    <th nzWidth="80px" nzAlign="center">Ativo</th>
                    <th nzWidth="60px" nzAlign="center"></th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let data of bannerTable.data; trackBy: trackByBannerId">
                    <td>
                        <div class="banner-preview">
                            <img [src]="data.imageUrl" alt="Banner" />
                        </div>
                    </td>
                    <td>
                        <div class="content-inputs">
                            <input nz-input [(ngModel)]="data.title" placeholder="Título do Banner"
                                class="input-title" />
                            <input nz-input [(ngModel)]="data.subtitle" placeholder="Subtítulo (opcional)"
                                nzSize="small" class="input-subtitle" />
                        </div>
                    </td>
                    <td nzAlign="center">
                        <nz-switch [(ngModel)]="data.active" nzSize="small"></nz-switch>
                    </td>
                    <td nzAlign="center">
                        <button nz-button nzType="text" nzDanger nzSize="small" (click)="removeBanner(data._id)">
                            <span nz-icon nzType="delete"></span>
                        </button>
                    </td>
                </tr>
            </tbody>
        </nz-table>

        <div *ngIf="banners().length === 0" class="empty-state">
            <span nz-icon nzType="inbox" class="empty-icon"></span>
            <p>Nenhum banner cadastrado. Faça upload acima.</p>
        </div>
    </div>
</div>